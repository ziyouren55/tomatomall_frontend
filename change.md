删除账号一栏的书评、领券中心选项（与顶部导航重复）
删掉顶部导航栏的“我的优惠券”（与账号下拉重复，位置不合理）
优惠券中心：所有优惠券统一显示“兑换所需积分”，按钮统一为“兑换”，并根据后端返回的 code/msg 正确处理“积分不足”等错误提示
优惠券详情页：显示兑换所需积分；0 积分券也可显示并使用“兑换优惠券”按钮；兑换时同样根据返回 code/msg 判断是否兑换成功或积分不足
前后端字段对齐：删除前端旧字段 discount/expiryDate，统一使用 discountAmount/discountPercentage/validFrom/validTo 等新字段
区分类型：在前端新增 UserCoupon 类型，API 中用户持有优惠券相关接口（getUserCoupons/getUserOwnedCoupons/getUserCouponDetail）改用 UserCoupon，其余仍使用 Coupon
仓库管理-产品管理：为每个产品新增“创建论坛”按钮，支持检查已有论坛并跳转或调用后台 /api/admin/forum/books/{bookId}/forum 创建对应书籍论坛
发帖页面：增加本地校验（标题至少2字、内容至少5字），并在发布失败时展示后端返回的具体错误原因（如长度校验、未登录等）
购物车-订单确认弹窗：新增“优惠券”下拉选择，可按金额/有效期/门槛筛出当前可用的用户优惠券，实时计算并展示原价、优惠减免和应付金额，下单时调用 /api/coupons/apply 将所选优惠券应用到新建订单


2025/12/19 ziyouren55
已将优惠券相关逻辑合并到主分支 
检查时发现前端的产品删除有逻辑问题，为响应把严格匹配导致的出错，已修改 
产品表和论坛表的关系没有添加约束，现已在后端的实体类中添加了约束，当产品删除的时候会一并删除对应的论坛
！！！注意如果你后端的对应的那张forum和product表没有建立外键约束与级联删除的话，此时直接运行后端程序在这个逻辑上可能会报错！！！
创建论坛的按钮有问题，会首先调用ID查找，如果没找到的话会报错，前端根据是否报错来决定是否创建，这样子在后端抛出的错误不易于维护
现在已经添加了新的一个接口ensure_forum，绕过了原先调用后端ID查找接口，现在不会报错了


2025/12/22 ziyouren55
重构了部分前端关于views和components的页面，划分职责： views里面统一后缀命名为page，是路由导向的主页面；component则是嵌入到各个page里面的可复用的组件
以及为系统添加了商家商店，角色里面新增了merchant作为商家，更改了原先关键字user为customer，新增了实体表stores，现在管理员和商家都能够对商店进行管理。一个商家可以有多个商店，商品可以由商家和管理员共同创建，商品的创建在商家对应的商店的管理页面中，创建时自带商店ID
新增加了notification表，这个可以认为是系统内的消息通知表，在进行了一些操作之后可以把消息投递给对应的用户
后端的支付逻辑加入了kafka，当用户成功支付支付宝发回了回调通知后，卡夫卡在回调处理中生产支付成功事件，作为生产者投递到topic中，订阅的消费者在收到了内容后去做相应的后续操作例如发送通知给商家，这里后续可以把库存减少等等相关的订单支付后操作挂在卡夫卡消费者里面
前端引入了stomp端点，在用户到对应的商店内完成购物之后，相关信息会作为弹窗推送到商家的页面
！！！注意卡夫卡的启动需要使用docker， docker compose已经放在了后端的根目录，先启动docker再启动spring，如果卡夫卡相关的服务没有拉起来的话，支付回调相关的内容将失败！！！
